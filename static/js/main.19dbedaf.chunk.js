(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{43:function(e,t,a){e.exports=a(53)},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),u=a(73),i=a(74),s=a(75),l=a(76),f=a(78),d=a(77),p=a(36),h=a(29),y=a(15);var m=Object(y.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,a=e.dispatch,c=Object(n.useState)({mouseDown:!1}),o=Object(p.a)(c,2),u=o[0],i=o[1],s=function(e){switch(e.type){case"mousedown":return i({mouseDown:!0}),a(function(e,t){return{type:"op/start",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(l,e));case"mousemove":return u.mouseDown?a(function(e,t){return{type:"op/continue",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(l,e)):void 0;case"mouseup":return i({mouseDown:!1});default:return console.log(e)}},l=Object(n.useRef)(null);return Object(n.useEffect)((function(){!function(e){e.current.width=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("height"))}(l)})),Object(n.useEffect)((function(){!function(e,t){e.current.width=e.current.width;var a,n=e.current.getContext("2d"),r=Object(h.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;switch(c.type){case"line":default:var o=c[0],u=o.x,i=o.y;n.beginPath(),n.moveTo(u,i);var s,l=Object(h.a)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value,d=f.x,p=f.y;n.lineTo(d,p),n.stroke()}}catch(y){l.e(y)}finally{l.f()}}}}catch(y){r.e(y)}finally{r.f()}}(l,t)})),r.a.createElement("canvas",{ref:l,onMouseUp:s,onMouseMove:s,onMouseDown:s})})),v=a(79);var b=Object(y.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,a=e.dispatch,n=e.className;return r.a.createElement(v.a,{variant:"contained",className:n,disabled:0===t.length,onClick:function(){a({type:"undo",payload:{}})}},"Undo")}));var g=Object(y.b)((function(e){return{future:e.future}}),null)((function(e){var t=e.future,a=e.dispatch;return r.a.createElement(v.a,{variant:"contained",disabled:0===t.length,onClick:function(){a({type:"redo",payload:{}})}},"Redo")})),j=Object(u.a)((function(e){return{title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(12),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var O=function(e){e.history,e.dispatch;var t=j();return r.a.createElement("div",null,r.a.createElement(i.a,{position:"relative"},r.a.createElement(s.a,null,r.a.createElement(l.a,{variant:"h6",className:t.title},"Redux Paint"),r.a.createElement(b,{className:t.menuButton}),r.a.createElement(g,{className:t.menuButton}))),r.a.createElement("main",{className:t.content},r.a.createElement(d.a,{className:t.container},r.a.createElement(f.a,{className:t.canvas,raised:!0},r.a.createElement(m,null)))))},E=a(34),w=a(35),x=a(33),N=a(12);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"op/start":return Object(N.a)(Object(N.a)({},e),{},{future:[],history:e.history.concat([[{x:t.payload.x,y:t.payload.y}]])});case"op/continue":var a=e.history.slice().reverse(),n=Object(x.a)(a),r=n[0],c=n.slice(1);return Object(N.a)(Object(N.a)({},e),{},{future:[],history:[].concat(Object(w.a)(c.slice().reverse()),[r.concat([{x:t.payload.x,y:t.payload.y}])])});case"undo":return Object(N.a)(Object(N.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case"redo":return Object(N.a)(Object(N.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},B=Object(E.a)({reducer:k});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,{store:B},r.a.createElement(O,null))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.19dbedaf.chunk.js.map