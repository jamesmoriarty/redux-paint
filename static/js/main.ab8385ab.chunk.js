(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{125:function(e,t,n){e.exports=n(298)},298:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(22),l=n.n(c),u=n(320),i=n(322),s=n(323),E=n(324),p=n(327),y=n(326),f=n(301),O=n(116),d=n.n(O),m=n(117),P=n.n(m),h=n(114),T=n.n(h),_=n(115),v=n.n(_),b=n(113),C=n.n(b),R=n(325),g=n(23);!function(e){e[e.OP_TYPE_GESTURE=0]="OP_TYPE_GESTURE",e[e.OP_TYPE_RECT=1]="OP_TYPE_RECT"}(a||(a={}));var w,j=a.OP_TYPE_GESTURE;!function(e){e[e.OP_SET_TYPE=0]="OP_SET_TYPE",e[e.OP_SET_COLOR=1]="OP_SET_COLOR",e[e.OP_CREATE=2]="OP_CREATE",e[e.OP_UPDATE=3]="OP_UPDATE",e[e.UNDO=4]="UNDO",e[e.REDO=5]="REDO"}(w||(w={}));var k=n(53),S=n(74);var x=function(e){var t=e.history,n=e.onEvent,c=e.type,l=e.color,u=Object(o.useState)({mouseDown:!1}),i=Object(k.a)(u,2),s=i[0],E=i[1],p=function(e){if(null!=y.current){var t=e.pageX-y.current.offsetLeft,a=e.pageY-y.current.offsetTop;switch(e.type){case"mousedown":return E({mouseDown:!0}),n(c,l,e.type,t,a);case"mousemove":if(s.mouseDown)return n(c,l,e.type,t,a);break;case"mouseup":return E({mouseDown:!1})}}},y=Object(o.useRef)(null);return Object(o.useEffect)((function(){!function(e){if(null!=e.current){var t=e.current.parentNode;e.current.width=parseInt(getComputedStyle(t).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(t).getPropertyValue("height"))}}(y)})),Object(o.useEffect)((function(){!function(e,t){if(null!=e.current){e.current.width=e.current.width;var n=e.current.getContext("2d");if(null!=n){var o,r=Object(S.a)(t);try{for(r.s();!(o=r.n()).done;){var c=o.value,l=c.type,u=c.color,i=c.points,s=i[0].x,E=i[0].y;switch(n.strokeStyle=u,n.fillStyle=u,l){case a.OP_TYPE_RECT:var p=c.points[c.points.length-1],y=p.x,f=p.y;n.beginPath(),n.fillRect(s,E,-1*(s-y),-1*(E-f)),n.stroke();break;case a.OP_TYPE_GESTURE:n.beginPath(),n.moveTo(s,E);var O,d=Object(S.a)(c.points);try{for(d.s();!(O=d.n()).done;){var m=O.value,P=m.x,h=m.y;n.lineTo(P,h),n.stroke()}}catch(T){d.e(T)}finally{d.f()}break;default:throw new Error("unknown op: "+l)}}}catch(T){r.e(T)}finally{r.f()}}}}(y,t)})),r.a.createElement("canvas",{ref:y,onMouseUp:p,onMouseMove:p,onMouseDown:p})},Y=Object(g.b)((function(e){return e}),(function(e){return{onEvent:function(t,n,o,r,c){switch(t){case a.OP_TYPE_RECT:case a.OP_TYPE_GESTURE:switch(o){case"mousedown":return e({type:w.OP_CREATE,payload:{type:t,color:n,points:[{x:r,y:c}]}});case"mousemove":return e({type:w.OP_UPDATE,payload:{x:r,y:c}});default:throw new Error("unknown event.type")}default:throw new Error("unknown op.type: "+t)}}}}))(x),U=n(112);var D=function(e){var t=e.children,n=e.onChangeComplete,a=e.color,c=Object(o.useState)({displayColorPicker:!1}),l=Object(k.a)(c,2),u=l[0],i=l[1];return r.a.createElement("div",null,r.a.cloneElement(t,{onClick:function(){i({displayColorPicker:!u.displayColorPicker})}}),u.displayColorPicker?r.a.createElement("div",{style:{marginTop:"5vh",position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){i({displayColorPicker:!1})}}),r.a.createElement(U.ChromePicker,{color:a,onChangeComplete:function(e){n(e)}})):null)},G=Object(g.b)((function(e){return e}),(function(e){return{onChangeComplete:function(t){e({type:w.OP_SET_COLOR,payload:{color:t.hex}})}}}))(D),N=Object(u.a)((function(e){return{title:{flexGrow:1},toolButtonGroup:{marginRight:e.spacing(1)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(12),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var A=function(e){var t=e.history,n=e.future,o=e.type,c=e.color,l=e.onGesture,u=e.onRect,O=e.onUndo,m=e.onRedo,h=N();return r.a.createElement("div",null,r.a.createElement(i.a,{position:"relative"},r.a.createElement(s.a,null,r.a.createElement(E.a,{variant:"h6",className:h.title},"Redux Paint"),r.a.createElement(R.a,{className:h.toolButtonGroup},r.a.createElement(G,null,r.a.createElement(f.a,{variant:"contained"},r.a.createElement(C.a,{style:{color:c}})))),r.a.createElement(R.a,{className:h.toolButtonGroup},r.a.createElement(f.a,{variant:"contained",color:o===a.OP_TYPE_GESTURE?"secondary":"default",onClick:l},r.a.createElement(T.a,null)),r.a.createElement(f.a,{variant:"contained",color:o===a.OP_TYPE_RECT?"secondary":"default",onClick:u},r.a.createElement(v.a,null))),r.a.createElement(R.a,{className:h.toolButtonGroup},r.a.createElement(f.a,{variant:"contained",disabled:0===t.length,onClick:O},r.a.createElement(d.a,null)),r.a.createElement(f.a,{variant:"contained",disabled:0===n.length,onClick:m},r.a.createElement(P.a,null))))),r.a.createElement("main",{className:h.content},r.a.createElement(y.a,{className:h.container},r.a.createElement(p.a,{className:h.canvas,raised:!0},r.a.createElement(Y,null)))))},B=Object(g.b)((function(e){return e}),(function(e){return{onGesture:function(){e({type:w.OP_SET_TYPE,payload:{type:a.OP_TYPE_GESTURE}})},onRect:function(){e({type:w.OP_SET_TYPE,payload:{type:a.OP_TYPE_RECT}})},onUndo:function(){e({type:w.UNDO,payload:{}})},onRedo:function(){e({type:w.REDO,payload:{}})}}}))(A),L=n(118),M=n(14);var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:j,color:"#333",history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.OP_SET_TYPE:return Object(M.a)(Object(M.a)({},e),{},{type:t.payload.type});case w.OP_SET_COLOR:return Object(M.a)(Object(M.a)({},e),{},{color:t.payload.color});case w.OP_CREATE:return Object(M.a)(Object(M.a)({},e),{},{future:[],history:e.history.concat([t.payload])});case w.OP_UPDATE:var n=e.history.slice(-1)[0],a=n.type,o=n.color,r=n.points,c=t.payload,l=c.x,u=c.y;return Object(M.a)(Object(M.a)({},e),{},{future:[],history:e.history.slice(0,-1).concat([{type:a,color:o,points:r.concat([{x:l,y:u}])}])});case w.UNDO:return Object(M.a)(Object(M.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case w.REDO:return Object(M.a)(Object(M.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},J=Object(L.a)({reducer:I});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,{store:J},r.a.createElement(B,null))),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.ab8385ab.chunk.js.map