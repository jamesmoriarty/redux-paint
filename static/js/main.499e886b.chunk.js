(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{132:function(e,t,a){e.exports=a(305)},305:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(22),l=a.n(c),i=a(24),u=a(327),s=a(329),E=a(330),p=a(331),O=a(334),d=a(333),f=a(308),y=a(122),P=a.n(y),m=a(123),h=a.n(m),T=a(119),_=a.n(T),v=a(120),b=a.n(v),C=a(121),g=a.n(C),j=a(118),R=a.n(j),w=a(332),S=a(59),k=a(55),Y=a(79);!function(e){e[e.OP_TYPE_GESTURE=0]="OP_TYPE_GESTURE",e[e.OP_TYPE_RECT=1]="OP_TYPE_RECT"}(n||(n={}));var x,D=n.OP_TYPE_GESTURE;!function(e){e[e.OP_SET_TYPE=0]="OP_SET_TYPE",e[e.OP_SET_COLOR=1]="OP_SET_COLOR",e[e.OP_CREATE=2]="OP_CREATE",e[e.OP_UPDATE=3]="OP_UPDATE",e[e.UNDO=4]="UNDO",e[e.REDO=5]="REDO"}(x||(x={}));var U=Object(i.b)((function(e){return e}),null)((function(e){var t=e.history,a=e.dispatch,c=e.type,l=e.color,i=Object(r.useState)({mouseDown:!1}),u=Object(S.a)(i,2),s=u[0],E=u[1],p=function(e){if(null!=O.current)switch(c){case n.OP_TYPE_RECT:case n.OP_TYPE_GESTURE:switch(e.type){case"mousedown":return E({mouseDown:!0}),a({type:x.OP_CREATE,payload:{type:c,color:l,x:e.pageX-O.current.offsetLeft,y:e.pageY-O.current.offsetTop}});case"mousemove":return s.mouseDown?a({type:x.OP_UPDATE,payload:{x:e.pageX-O.current.offsetLeft,y:e.pageY-O.current.offsetTop}}):void 0;case"mouseup":return E({mouseDown:!1});default:throw new Error("unknown event.type: "+e.type)}default:throw new Error("unknown op.type: "+c)}},O=Object(r.useRef)(null);return Object(r.useEffect)((function(){!function(e){if(null!=e.current){var t=e.current.parentNode;e.current.width=parseInt(getComputedStyle(t).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(t).getPropertyValue("height"))}}(O)})),Object(r.useEffect)((function(){!function(e,t){if(null!=e.current){e.current.width=e.current.width;var a=e.current.getContext("2d");if(null!=a){var r,o=Object(Y.a)(t);try{for(o.s();!(r=o.n()).done;){var c=r.value,l=c[0],i=l.type,u=l.color,s=l.x,E=l.y;switch(a.strokeStyle=u,a.fillStyle=u,i){case n.OP_TYPE_RECT:var p=c.slice().reverse(),O=Object(k.a)(p),d=O[0],f=d.x,y=d.y;O.slice(1);a.beginPath(),a.fillRect(s,E,-1*(s-f),-1*(E-y)),a.stroke();break;case n.OP_TYPE_GESTURE:a.beginPath(),a.moveTo(s,E);var P,m=Object(Y.a)(c);try{for(m.s();!(P=m.n()).done;){var h=P.value,T=h.x,_=h.y;a.lineTo(T,_),a.stroke()}}catch(v){m.e(v)}finally{m.f()}break;default:throw new Error("unknown op: "+i)}}}catch(v){o.e(v)}finally{o.f()}}}}(O,t)})),o.a.createElement("canvas",{ref:O,onMouseUp:p,onMouseMove:p,onMouseDown:p})})),G=a(117);var N=Object(i.b)((function(e){return e}),null)((function(e){var t=e.children,a=e.dispatch,n=e.color,c=Object(r.useState)({displayColorPicker:!1}),l=Object(S.a)(c,2),i=l[0],u=l[1];return o.a.createElement("div",null,o.a.cloneElement(t,{onClick:function(){u({displayColorPicker:!i.displayColorPicker})}}),i.displayColorPicker?o.a.createElement("div",{style:{marginTop:"5vh",position:"absolute",zIndex:"2"}},o.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){u({displayColorPicker:!1})}}),o.a.createElement(G.ChromePicker,{color:n,onChangeComplete:function(e){a({type:x.OP_SET_COLOR,payload:{color:e.hex}})}})):null)})),A=Object(u.a)((function(e){return{title:{flexGrow:1},toolButtonGroup:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(12),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var B=Object(i.b)((function(e){return e}),null)((function(e){var t=e.history,a=e.future,r=e.type,c=e.dispatch,l=e.color,i=A();return o.a.createElement("div",null,o.a.createElement(s.a,{position:"relative"},o.a.createElement(E.a,null,o.a.createElement(p.a,{variant:"h6",className:i.title},"Redux Paint"),o.a.createElement(w.a,{className:i.toolButtonGroup},o.a.createElement(N,null,o.a.createElement(f.a,{variant:"contained"},o.a.createElement(R.a,{style:{color:l}})))),o.a.createElement(w.a,{className:i.toolButtonGroup},o.a.createElement(f.a,{variant:"contained",color:r===n.OP_TYPE_GESTURE?"secondary":"default",onClick:function(){return c({type:x.OP_SET_TYPE,payload:{type:n.OP_TYPE_GESTURE}})}},o.a.createElement(_.a,null)),o.a.createElement(f.a,{variant:"contained",disabled:!0},o.a.createElement(b.a,null)),o.a.createElement(f.a,{variant:"contained",color:r===n.OP_TYPE_RECT?"secondary":"default",onClick:function(){return c({type:x.OP_SET_TYPE,payload:{type:n.OP_TYPE_RECT}})}},o.a.createElement(g.a,null))),o.a.createElement(w.a,{className:i.toolButtonGroup},o.a.createElement(f.a,{variant:"contained",disabled:0===t.length,onClick:function(){c({type:x.UNDO,payload:{}})}},o.a.createElement(P.a,null)),o.a.createElement(f.a,{variant:"contained",disabled:0===a.length,onClick:function(){c({type:x.REDO,payload:{}})}},o.a.createElement(h.a,null))))),o.a.createElement("main",{className:i.content},o.a.createElement(d.a,{className:i.container},o.a.createElement(O.a,{className:i.canvas,raised:!0},o.a.createElement(U,null)))))})),L=a(124),M=a(125),I=a(14);var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:D,color:"#333",history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.OP_SET_TYPE:return Object(I.a)(Object(I.a)({},e),{},{type:t.payload.type});case x.OP_SET_COLOR:return Object(I.a)(Object(I.a)({},e),{},{color:t.payload.color});case x.OP_CREATE:return Object(I.a)(Object(I.a)({},e),{},{future:[],history:e.history.concat([[t.payload]])});case x.OP_UPDATE:var a=e.history.slice().reverse(),n=Object(k.a)(a),r=n[0],o=n.slice(1);return Object(I.a)(Object(I.a)({},e),{},{future:[],history:[].concat(Object(M.a)(o.slice().reverse()),[r.concat([t.payload])])});case x.UNDO:return Object(I.a)(Object(I.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case x.REDO:return Object(I.a)(Object(I.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},V=Object(L.a)({reducer:J});l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,{store:V},o.a.createElement(B,null))),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.499e886b.chunk.js.map