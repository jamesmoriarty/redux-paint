(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{40:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),u=n(70),i=n(71),s=n(72),l=n(73),f=n(75),d=n(74),m=n(27),v=n(14),h="line/undo",p="line/redo";var y=Object(v.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,n=e.dispatch,c=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(e,t){e.current.width=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("height"));var n=function(n){return t(function(e,t){return{type:"line/next",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(e,n))},r=function(t){return e.current.removeEventListener("mousemove",n,!1)},a=function(r){t(function(e,t){return{type:"line/start",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(e,r)),e.current.addEventListener("mousemove",n,!1)};return e.current.addEventListener("mousedown",a,!1),e.current.addEventListener("mouseup",r,!1),function(){e.current.removeEventListener("mousemove",n,!1),e.current.removeEventListener("mouseup",r,!1),e.current.removeEventListener("mousedown",a,!1)}}(c,n)}),[n]),Object(r.useEffect)((function(){!function(e,t){e.current.width=e.current.width;var n,r=e.current.getContext("2d"),a=Object(m.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c[0],u=o.x,i=o.y;r.beginPath(),r.moveTo(u,i);var s,l=Object(m.a)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value,d=f.x,v=f.y;r.lineTo(d,v),r.stroke()}}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}}(c,t)})),a.a.createElement("canvas",{ref:c})})),b=n(76);var g=Object(v.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,n=e.dispatch,r=e.className;return a.a.createElement(b.a,{variant:"contained",className:r,disabled:0===t.length,onClick:function(){n({type:h,payload:{}})}},"Undo")}));var E=Object(v.b)((function(e){return{future:e.future}}),null)((function(e){var t=e.future,n=e.dispatch;return a.a.createElement(b.a,{variant:"contained",disabled:0===t.length,onClick:function(){n({type:p,payload:{}})}},"Redo")})),j=Object(u.a)((function(e){return{title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var O=function(e){e.history,e.dispatch;var t=j();return a.a.createElement("div",null,a.a.createElement(i.a,{position:"relative"},a.a.createElement(s.a,null,a.a.createElement(l.a,{variant:"h6",className:t.title},"Redux Paint"),a.a.createElement(g,{className:t.menuButton}),a.a.createElement(E,{className:t.menuButton}))),a.a.createElement("main",{className:t.content},a.a.createElement(d.a,{maxWidth:"lg",className:t.container},a.a.createElement(f.a,{className:t.canvas,raised:!0},a.a.createElement(y,null)))))},x=n(31),w=n(32),N=n(33),L=n(12);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"line/start":return Object(L.a)(Object(L.a)({},e),{},{future:[],history:e.history.concat([[{x:t.payload.x,y:t.payload.y}]])});case"line/next":var n=e.history.slice().reverse(),r=Object(N.a)(n),a=r[0],c=r.slice(1);return Object(L.a)(Object(L.a)({},e),{},{future:[],history:[].concat(Object(w.a)(c.slice().reverse()),[a.concat([{x:t.payload.x,y:t.payload.y}])])});case h:return Object(L.a)(Object(L.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case p:return Object(L.a)(Object(L.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},B=Object(x.a)({reducer:k});B.subscribe((function(){return console.log(B.getState())}));var C=B;o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v.a,{store:C},a.a.createElement(O,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e67b0baf.chunk.js.map