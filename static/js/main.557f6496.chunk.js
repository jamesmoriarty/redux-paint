(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{126:function(e,t,n){e.exports=n(299)},299:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(22),l=n.n(c),i=n(23),u=n(321),s=n(323),E=n(324),p=n(325),y=n(328),d=n(327),f=n(302),O=n(117),m=n.n(O),P=n(118),h=n.n(P),T=n(114),_=n.n(T),v=n(115),b=n.n(v),C=n(116),R=n.n(C),g=n(113),w=n.n(g),j=n(326);!function(e){e[e.OP_TYPE_GESTURE=0]="OP_TYPE_GESTURE",e[e.OP_TYPE_RECT=1]="OP_TYPE_RECT"}(a||(a={}));var k,S=a.OP_TYPE_GESTURE;!function(e){e[e.OP_SET_TYPE=0]="OP_SET_TYPE",e[e.OP_SET_COLOR=1]="OP_SET_COLOR",e[e.OP_CREATE=2]="OP_CREATE",e[e.OP_UPDATE=3]="OP_UPDATE",e[e.UNDO=4]="UNDO",e[e.REDO=5]="REDO"}(k||(k={}));var x=n(53),Y=n(74);var U=function(e){var t=e.history,n=e.onEvent,c=e.type,l=e.color,i=Object(o.useState)({mouseDown:!1}),u=Object(x.a)(i,2),s=u[0],E=u[1],p=function(e){if(null!=y.current){var t=e.pageX-y.current.offsetLeft,a=e.pageY-y.current.offsetTop;switch(e.type){case"mousedown":return E({mouseDown:!0}),n(c,l,e.type,t,a);case"mousemove":if(s.mouseDown)return n(c,l,e.type,t,a);break;case"mouseup":return E({mouseDown:!1})}}},y=Object(o.useRef)(null);return Object(o.useEffect)((function(){!function(e){if(null!=e.current){var t=e.current.parentNode;e.current.width=parseInt(getComputedStyle(t).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(t).getPropertyValue("height"))}}(y)})),Object(o.useEffect)((function(){!function(e,t){if(null!=e.current){e.current.width=e.current.width;var n=e.current.getContext("2d");if(null!=n){var o,r=Object(Y.a)(t);try{for(r.s();!(o=r.n()).done;){var c=o.value,l=c.type,i=c.color,u=c.points,s=u[0].x,E=u[0].y;switch(n.strokeStyle=i,n.fillStyle=i,l){case a.OP_TYPE_RECT:var p=c.points[c.points.length-1],y=p.x,d=p.y;n.beginPath(),n.fillRect(s,E,-1*(s-y),-1*(E-d)),n.stroke();break;case a.OP_TYPE_GESTURE:n.beginPath(),n.moveTo(s,E);var f,O=Object(Y.a)(c.points);try{for(O.s();!(f=O.n()).done;){var m=f.value,P=m.x,h=m.y;n.lineTo(P,h),n.stroke()}}catch(T){O.e(T)}finally{O.f()}break;default:throw new Error("unknown op: "+l)}}}catch(T){r.e(T)}finally{r.f()}}}}(y,t)})),r.a.createElement("canvas",{ref:y,onMouseUp:p,onMouseMove:p,onMouseDown:p})},D=Object(i.b)((function(e){return e}),(function(e){return{onEvent:function(t,n,o,r,c){switch(t){case a.OP_TYPE_RECT:case a.OP_TYPE_GESTURE:switch(o){case"mousedown":return e({type:k.OP_CREATE,payload:{type:t,color:n,points:[{x:r,y:c}]}});case"mousemove":return e({type:k.OP_UPDATE,payload:{x:r,y:c}});default:throw new Error("unknown event.type")}default:throw new Error("unknown op.type: "+t)}}}}))(U),G=n(112);var N=function(e){var t=e.children,n=e.onChangeComplete,a=e.color,c=Object(o.useState)({displayColorPicker:!1}),l=Object(x.a)(c,2),i=l[0],u=l[1];return r.a.createElement("div",null,r.a.cloneElement(t,{onClick:function(){u({displayColorPicker:!i.displayColorPicker})}}),i.displayColorPicker?r.a.createElement("div",{style:{marginTop:"5vh",position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){u({displayColorPicker:!1})}}),r.a.createElement(G.ChromePicker,{color:a,onChangeComplete:function(e){n(e)}})):null)},A=Object(i.b)((function(e){return e}),(function(e){return{onChangeComplete:function(t){e({type:k.OP_SET_COLOR,payload:{color:t.hex}})}}}))(N),B=Object(u.a)((function(e){return{title:{flexGrow:1},toolButtonGroup:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(12),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var L=Object(i.b)((function(e){return e}),(function(e){return{onGesture:function(){e({type:k.OP_SET_TYPE,payload:{type:a.OP_TYPE_GESTURE}})},onRect:function(){e({type:k.OP_SET_TYPE,payload:{type:a.OP_TYPE_RECT}})},onUndo:function(){e({type:k.UNDO,payload:{}})},onRedo:function(){e({type:k.REDO,payload:{}})}}}))((function(e){var t=e.history,n=e.future,o=e.type,c=e.color,l=e.onGesture,i=e.onRect,u=e.onUndo,O=e.onRedo,P=B();return r.a.createElement("div",null,r.a.createElement(s.a,{position:"relative"},r.a.createElement(E.a,null,r.a.createElement(p.a,{variant:"h6",className:P.title},"Redux Paint"),r.a.createElement(j.a,{className:P.toolButtonGroup},r.a.createElement(A,null,r.a.createElement(f.a,{variant:"contained"},r.a.createElement(w.a,{style:{color:c}})))),r.a.createElement(j.a,{className:P.toolButtonGroup},r.a.createElement(f.a,{variant:"contained",color:o===a.OP_TYPE_GESTURE?"secondary":"default",onClick:l},r.a.createElement(_.a,null)),r.a.createElement(f.a,{variant:"contained",disabled:!0},r.a.createElement(b.a,null)),r.a.createElement(f.a,{variant:"contained",color:o===a.OP_TYPE_RECT?"secondary":"default",onClick:i},r.a.createElement(R.a,null))),r.a.createElement(j.a,{className:P.toolButtonGroup},r.a.createElement(f.a,{variant:"contained",disabled:0===t.length,onClick:u},r.a.createElement(m.a,null)),r.a.createElement(f.a,{variant:"contained",disabled:0===n.length,onClick:O},r.a.createElement(h.a,null))))),r.a.createElement("main",{className:P.content},r.a.createElement(d.a,{className:P.container},r.a.createElement(y.a,{className:P.canvas,raised:!0},r.a.createElement(D,null)))))})),M=n(119),I=n(14);var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:S,color:"#333",history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.OP_SET_TYPE:return Object(I.a)(Object(I.a)({},e),{},{type:t.payload.type});case k.OP_SET_COLOR:return Object(I.a)(Object(I.a)({},e),{},{color:t.payload.color});case k.OP_CREATE:return Object(I.a)(Object(I.a)({},e),{},{future:[],history:e.history.concat([t.payload])});case k.OP_UPDATE:var n=e.history.slice(-1)[0],a=n.type,o=n.color,r=n.points,c=t.payload,l=c.x,i=c.y;return Object(I.a)(Object(I.a)({},e),{},{future:[],history:e.history.slice(0,-1).concat([{type:a,color:o,points:r.concat([{x:l,y:i}])}])});case k.UNDO:return Object(I.a)(Object(I.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case k.REDO:return Object(I.a)(Object(I.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},V=Object(M.a)({reducer:J});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:V},r.a.createElement(L,null))),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.557f6496.chunk.js.map