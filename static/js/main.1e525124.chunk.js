(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{43:function(e,t,a){e.exports=a(53)},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),u=a(13),s=a(73),l=a(74),i=a(75),p=a(76),y=a(78),f=a(77),d=a(79),h=a(37),m=a(25),v=a(31);var b=Object(u.b)((function(e){return e}),null)((function(e){var t=e.history,a=e.dispatch,c=e.type,o=e.strokeStyle,u=Object(n.useState)({mouseDown:!1}),s=Object(h.a)(u,2),l=s[0],i=s[1],p=function(e,t,n){switch(n.type){case"mousedown":return i({mouseDown:!0}),a(function(e,t,a,n){return{type:"op/create",payload:{type:e,strokeStyle:t,x:a,y:n}}}(e,t,n.pageX-f.current.offsetLeft,n.pageY-f.current.offsetTop));case"mousemove":return l.mouseDown?a((r=n.pageX-f.current.offsetLeft,c=n.pageY-f.current.offsetTop,{type:"op/update",payload:{x:r,y:c}})):void 0;case"mouseup":return i({mouseDown:!1});default:throw new Error("unknown event.type: ",n.type)}var r,c},y=function(e){switch(c){case"gesture":case"rect":return p(c,o,e);default:throw new Error("unknown op.type: ",c)}},f=Object(n.useRef)(null);return Object(n.useEffect)((function(){!function(e){e.current.width=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("height"))}(f)})),Object(n.useEffect)((function(){!function(e,t){e.current.width=e.current.width;var a,n=e.current.getContext("2d"),r=Object(v.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value,o=c[0],u=o.type,s=o.strokeStyle,l=o.x,i=o.y;switch(n.strokeStyle=s,n.fillStyle=s,u){case"rect":var p=c.slice().reverse(),y=Object(m.a)(p),f=y[0],d=f.x,h=f.y;y.slice(1);n.beginPath(),n.fillRect(l,i,-1*(l-d),-1*(i-h)),n.stroke();break;case"gesture":n.beginPath(),n.moveTo(l,i);var b,g=Object(v.a)(c);try{for(g.s();!(b=g.n()).done;){var w=b.value,j=w.x,O=w.y;n.lineTo(j,O),n.stroke()}}catch(E){g.e(E)}finally{g.f()}break;default:throw new Error("unknown op: ",c)}}}catch(E){r.e(E)}finally{r.f()}}(f,t)})),r.a.createElement("canvas",{ref:f,onMouseUp:y,onMouseMove:y,onMouseDown:y})}));var g=Object(u.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,a=e.dispatch,n=e.className;return r.a.createElement(d.a,{variant:"contained",className:n,disabled:0===t.length,onClick:function(){a({type:"undo",payload:{}})}},"Undo")}));var w=Object(u.b)((function(e){return{future:e.future}}),null)((function(e){var t=e.future,a=e.dispatch,n=e.className;return r.a.createElement(d.a,{variant:"contained",className:n,disabled:0===t.length,onClick:function(){a({type:"redo",payload:{}})}},"Redo")})),j=Object(s.a)((function(e){return{title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(12),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var O=Object(u.b)((function(e){return e}),null)((function(e){e.history;var t=e.type,a=e.dispatch,n=j();return r.a.createElement("div",null,r.a.createElement(l.a,{position:"relative"},r.a.createElement(i.a,null,r.a.createElement(p.a,{variant:"h6",className:n.title},"Redux Paint"),r.a.createElement(d.a,{variant:"contained",color:"gesture"===t?"secondary":"default",className:n.menuButton,onClick:function(){return a({type:"op/setType",payload:{type:"gesture"}})}},"Gesture"),r.a.createElement(d.a,{variant:"contained",color:"rect"===t?"secondary":"default",className:n.menuButton,onClick:function(){return a({type:"op/setType",payload:{type:"rect"}})}},"Rect"),r.a.createElement(g,{className:n.menuButton}),r.a.createElement(w,{className:n.menuButton}))),r.a.createElement("main",{className:n.content},r.a.createElement(f.a,{className:n.container},r.a.createElement(y.a,{className:n.canvas,raised:!0},r.a.createElement(b,null)))))})),E=a(35),k=a(36),N=a(12);var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"gesture",strokeStyle:"#333",history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"op/setType":return Object(N.a)(Object(N.a)({},e),{},{type:t.payload.type});case"op/create":return Object(N.a)(Object(N.a)({},e),{},{future:[],history:e.history.concat([[t.payload]])});case"op/update":var a=e.history.slice().reverse(),n=Object(m.a)(a),r=n[0],c=n.slice(1);return Object(N.a)(Object(N.a)({},e),{},{future:[],history:[].concat(Object(k.a)(c.slice().reverse()),[r.concat([t.payload])])});case"undo":return Object(N.a)(Object(N.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case"redo":return Object(N.a)(Object(N.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},S=Object(E.a)({reducer:x});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:S},r.a.createElement(O,null))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.1e525124.chunk.js.map