(this["webpackJsonpredux-paint"]=this["webpackJsonpredux-paint"]||[]).push([[0],{40:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),o=n.n(c),u=n(12),i=n(70),s=n(71),l=n(72),d=n(73),f=n(75),m=n(74),v=n(28);var h=Object(u.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,n=e.dispatch,c=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(e,t){e.current.width=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("width")),e.current.height=parseInt(getComputedStyle(e.current.parentNode).getPropertyValue("height"));var n=function(n){return t(function(e,t){return{type:"line/next",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(e,n))},r=function(t){return e.current.removeEventListener("mousemove",n,!1)},a=function(r){t(function(e,t){return{type:"line/start",payload:{x:t.pageX-e.current.offsetLeft,y:t.pageY-e.current.offsetTop}}}(e,r)),e.current.addEventListener("mousemove",n,!1)};return e.current.addEventListener("mousedown",a,!1),e.current.addEventListener("mouseup",r,!1),function(){e.current.removeEventListener("mousemove",n,!1),e.current.removeEventListener("mouseup",r,!1),e.current.removeEventListener("mousedown",a,!1)}}(c,n)}),[n]),Object(r.useEffect)((function(){!function(e,t){e.current.width=e.current.width;var n,r=e.current.getContext("2d"),a=Object(v.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c[0],u=o.x,i=o.y;r.beginPath(),r.moveTo(u,i);var s,l=Object(v.a)(c);try{for(l.s();!(s=l.n()).done;){var d=s.value,f=d.x,m=d.y;r.lineTo(f,m),r.stroke()}}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}}(c,t)})),a.a.createElement("canvas",{ref:c})})),p=n(76);var y=Object(u.b)((function(e){return{history:e.history}}),null)((function(e){var t=e.history,n=e.dispatch,r=e.className;return a.a.createElement(p.a,{variant:"contained",className:r,disabled:0===t.length,onClick:function(){n({type:"line/undo",payload:{}})}},"Undo")}));var b=Object(u.b)((function(e){return{future:e.future}}),null)((function(e){var t=e.future,n=e.dispatch;return a.a.createElement(p.a,{variant:"contained",disabled:0===t.length,onClick:function(){n({type:"line/redo",payload:{}})}},"Redo")})),g=Object(i.a)((function(e){return{title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},canvas:{height:"70vh"}}}));var E=Object(u.b)(null,null)((function(e){e.history,e.dispatch;var t=g();return a.a.createElement("div",null,a.a.createElement(s.a,{position:"relative"},a.a.createElement(l.a,null,a.a.createElement(d.a,{variant:"h6",className:t.title},"Redux Paint"),a.a.createElement(y,{className:t.menuButton}),a.a.createElement(b,{className:t.menuButton}))),a.a.createElement("main",{className:t.content},a.a.createElement(m.a,{maxWidth:"lg",className:t.container},a.a.createElement(f.a,{className:t.canvas,raised:!0},a.a.createElement(h,null)))))})),j=n(31),O=n(32),x=n(33),w=n(13);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[],future:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"line/start":return Object(w.a)(Object(w.a)({},e),{},{future:[],history:e.history.concat([[{x:t.payload.x,y:t.payload.y}]])});case"line/next":var n=e.history.slice().reverse(),r=Object(x.a)(n),a=r[0],c=r.slice(1);return Object(w.a)(Object(w.a)({},e),{},{future:[],history:[].concat(Object(O.a)(c.slice().reverse()),[a.concat([{x:t.payload.x,y:t.payload.y}])])});case"line/undo":return Object(w.a)(Object(w.a)({},e),{},{future:e.future.concat(e.history.slice(-1)),history:e.history.slice(0,-1)});case"line/redo":return Object(w.a)(Object(w.a)({},e),{},{future:e.future.slice(0,-1),history:e.history.slice().concat(e.future.slice(-1))});default:return e}},L=Object(j.a)({reducer:N});L.subscribe((function(){return console.log(L.getState())}));var k=L;o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:k},a.a.createElement(E,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8515ea6a.chunk.js.map